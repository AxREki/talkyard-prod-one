# For servers with 2 GB RAM.
# (Or rather, more than 2G, Should leave some for the OS cache too.)

version: '2'
services:
  web:
    mem_limit: 150M

  app:
    mem_limit: 1050M
    environment:
      # There's also stack memory and permanent-generation memory.
      PLAY_HEAP_MEMORY_MB: 700

  cache:
    mem_limit: 40M

  rdb:
    mem_limit: 250M

  search:
    # If there's too little memory, the container will abruptly exit with status 137
    # and no error message. This is too little: 380M & Xmx260m
    mem_limit: 450M
    environment:
      ES_JAVA_OPTS: '-Xms300m -Xmx300m'
